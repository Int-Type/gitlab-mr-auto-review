############################################
# 서버/앱
############################################
PORT=8080
CONTEXT_PATH=/
APP_LOG_LEVEL=INFO
GITLAB4J_LOG_LEVEL=INFO
SPRING_WEB_LOG_LEVEL=INFO

############################################
# GitLab 연동
############################################
# ex) https://gitlab.com  또는 사내 GitLab URL
GITLAB_URL=https://gitlab.com

# Personal Access Token or Project Access Token (api scope 필요)
GITLAB_TOKEN=<YOUR_GITLAB_TOKEN>

# Webhook Secret Token (GitLab Webhook 설정과 동일)
GITLAB_WEBHOOK_SECRET=<YOUR_WEBHOOK_SECRET>

# 허용 프로젝트 화이트리스트 (선택)
# 예: my-group/repo-a,my-group/repo-b  (빈 값이면 모든 프로젝트 허용)
GITLAB_ALLOWED_PROJECTS=

############################################
# Actuator
############################################
ACTUATOR_EXPOSE=health,info
# always / when_authorized / never
ACTUATOR_HEALTH_DETAILS=when_authorized

############################################
# 비동기 실행기 (스레드풀)
############################################
EXECUTOR_CORE_SIZE=4
EXECUTOR_MAX_SIZE=8
EXECUTOR_QUEUE_CAPACITY=100
EXECUTOR_PREFIX=mr-review-

############################################
# Resilience4j (CircuitBreaker)
############################################
CB_WINDOW_TYPE=COUNT_BASED
CB_WINDOW_SIZE=20
CB_FAILURE_RATE=50
CB_OPEN_WAIT=10s
CB_HALF_OPEN_CALLS=5
CB_MIN_CALLS=10

############################################
# Resilience4j (Retry)
############################################
RETRY_MAX_ATTEMPTS=3
RETRY_WAIT=500ms

############################################
# GitLab API 타임아웃 – Bean 설정에서 사용할 경우
############################################
GITLAB_CONNECT_TIMEOUT_MS=5000
GITLAB_READ_TIMEOUT_MS=10000

############################################
# LLM 통합 설정 (다중 LLM 지원)
############################################
# 통합 설정 (우선순위: 통합 설정 > 개별 LLM 설정)
LLM_API_KEY=<YOUR_PRIMARY_LLM_API_KEY>
LLM_MODEL=gpt-4o-mini

# 주의: LLM_SYSTEM_PROMPT는 더 이상 사용되지 않음
# 모든 프롬프트는 PromptService에서 하드코딩으로 관리됨
# LLM_SYSTEM_PROMPT=<DEPRECATED_DO_NOT_USE>

############################################
# OpenAI 개별 설정
############################################
LLM_OPENAI_API_KEY=<YOUR_OPENAI_API_KEY>
LLM_OPENAI_MODEL=gpt-4o-mini

############################################
# Claude 개별 설정
############################################
LLM_CLAUDE_API_KEY=<YOUR_CLAUDE_API_KEY>
LLM_CLAUDE_MODEL=claude-sonnet-4-20250514

############################################
# Gemini 개별 설정
############################################
LLM_GEMINI_API_KEY=<YOUR_GEMINI_API_KEY>
LLM_GEMINI_MODEL=gemini-2.5-pro

############################################
# 리뷰 모드 설정
############################################
# persona: 페르소나 기반 전문화된 리뷰 (권장)
# integrated: 통합 LLM 리뷰 (기본)
# 모든 프롬프트는 하드코딩으로 관리되며 환경변수로 변경 불가
REVIEW_MODE=persona

############################################
# LLM Retry 설정
############################################
LLM_RETRY_MAX_ATTEMPTS=3
LLM_RETRY_WAIT=500ms

############################################
# 레거시 ChatGPT 설정 (Deprecated - 더 이상 사용하지 마세요)
############################################
# 아래 설정들은 모두 제거 예정입니다.
# LLM 통합 설정을 사용하세요.
# CHATGPT_API_URL=<DEPRECATED>
# CHATGPT_API_KEY=<DEPRECATED>
# CHATGPT_MODEL=<DEPRECATED>
# CHATGPT_SYSTEM_PROMPT=<DEPRECATED>
# CHATGPT_RETRY_MAX_ATTEMPTS=<DEPRECATED>
# CHATGPT_RETRY_WAIT=<DEPRECATED>
