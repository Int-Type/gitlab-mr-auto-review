############################################
# 서버/앱
############################################
PORT=8080
CONTEXT_PATH=/
APP_LOG_LEVEL=INFO
GITLAB4J_LOG_LEVEL=INFO
SPRING_WEB_LOG_LEVEL=INFO

############################################
# GitLab 연동
############################################
# ex) https://gitlab.com  또는 사내 GitLab URL
GITLAB_URL=https://gitlab.com

# Personal Access Token or Project Access Token (api scope 필요)
GITLAB_TOKEN=<YOUR_GITLAB_TOKEN>

# Webhook Secret Token (GitLab Webhook 설정과 동일)
GITLAB_WEBHOOK_SECRET=<YOUR_WEBHOOK_SECRET>

# 허용 프로젝트 화이트리스트 (선택)
# 예: my-group/repo-a,my-group/repo-b  (빈 값이면 모든 프로젝트 허용)
GITLAB_ALLOWED_PROJECTS=

############################################
# Actuator
############################################
ACTUATOR_EXPOSE=health,info
# always / when_authorized / never
ACTUATOR_HEALTH_DETAILS=when_authorized

############################################
# 비동기 실행기 (스레드풀)
############################################
EXECUTOR_CORE_SIZE=4
EXECUTOR_MAX_SIZE=8
EXECUTOR_QUEUE_CAPACITY=100
EXECUTOR_PREFIX=mr-review-

############################################
# Resilience4j (CircuitBreaker)
############################################
CB_WINDOW_TYPE=COUNT_BASED
CB_WINDOW_SIZE=20
CB_FAILURE_RATE=50
CB_OPEN_WAIT=10s
CB_HALF_OPEN_CALLS=5
CB_MIN_CALLS=10

############################################
# Resilience4j (Retry)
############################################
RETRY_MAX_ATTEMPTS=3
RETRY_WAIT=500ms

############################################
# GitLab API 타임아웃 – Bean 설정에서 사용할 경우
############################################
GITLAB_CONNECT_TIMEOUT_MS=5000
GITLAB_READ_TIMEOUT_MS=10000

############################################
# ChatGPT 연동
############################################
CHATGPT_API_URL=https://api.openai.com/v1
CHATGPT_API_KEY=<YOUR_OPENAI_API_KEY>
CHATGPT_MODEL=gpt-4o-mini

# 시스템 프롬프트(한 줄 권장; 줄바꿈 필요 시 \n 사용)
CHATGPT_SYSTEM_PROMPT=당신은 숙련된 코드 리뷰어입니다. GitLab MR에 대해 한국어로 친절하고 명확하며 실행 가능한 리뷰를 작성하세요. 첫 문단에 요약 칭찬과 전반적 평가를 제공하고, 이후 개선 제안(이유와 근거, 예시 코드 포함), 위험 요소, 성능/보안/테스트 관점, 합의가 필요한 사항을 항목별로 제시하세요. 지나친 공감 표현은 자제하고, 중복 피드백을 줄이며, 파일/라인 단위로 구체적으로 언급하세요.

CHATGPT_RETRY_MAX_ATTEMPTS=3
CHATGPT_RETRY_WAIT=500ms
